CREATE TABLE CLIENTE (
    IDCLI  INTEGER PRIMARY KEY,
    NOMCLI VARCHAR2(50)  NOT NULL,
    APECLI VARCHAR2(50)  NOT NULL,
	DNICLI CHAR(8)  NOT NULL,
    TELCLI CHAR(20)  NOT NULL,
    EMACLI VARCHAR2(60)  NOT NULL,
    ESTCLI CHAR(1)  NOT NULL,
    FECNAC DATE  NOT NULL,
	DOMCLI VARCHAR2(80));

-- Secuencias

CREATE SEQUENCE ID_CLIENTE START WITH 1 INCREMENT BY 1 ORDER;

CREATE OR REPLACE TRIGGER ID_CLIENTE BEFORE INSERT ON CLIENTE FOR EACH ROW BEGIN SELECT ID_CLIENTE.NEXTVAL INTO :NEW.IDCLI FROM DUAL;
END;
/


-- INSERTAR REGISTROS DE CLIENTE

INSERT INTO CLIENTE (NOMCLI,APECLI,DNICLI,TELCLI,EMACLI,ESTCLI,DOMCLI,FECNAC) VALUES ('DANIEL','LOPEZ CANCHARI','76234902','920087382','Daniel_lopez@hotmail.com','A','2 DE MAYO','10/01/1995');
INSERT INTO CLIENTE (NOMCLI,APECLI,DNICLI,TELCLI,EMACLI,ESTCLI,DOMCLI,FECNAC) VALUES ('MIGYEL','FLORES MIX','62386386','973821232','Migyel.Flores@hotmail.com','A','29 DE JULIO','20/02/1996');
INSERT INTO CLIENTE (NOMCLI,APECLI,DNICLI,TELCLI,EMACLI,ESTCLI,DOMCLI,FECNAC) VALUES ('MARIO', 'MAMADI GUTIERRES','57367287','914215788','MamadiGutierre@hotmail.com','A','2 DE MAYO','03/05/1996');
INSERT INTO CLIENTE (NOMCLI,APECLI,DNICLI,TELCLI,EMACLI,ESTCLI,DOMCLI,FECNAC) VALUES ('JOSE','MAXMA LINGA','56486287','996545788','Maxmalinga@hotmail.com','I','2 DE MAYO','04/06/1996');
INSERT INTO CLIENTE (NOMCLI,APECLI,DNICLI,TELCLI,EMACLI,ESTCLI,DOMCLI,FECNAC) VALUES ('MARIA','BROS GONZALES','74623287','996215248','Maria_10@hotmail.com','A','2 DE MAYO','13/07/1996');
INSERT INTO CLIENTE (NOMCLI,APECLI,DNICLI,TELCLI,EMACLI,ESTCLI,DOMCLI,FECNAC) VALUES ('LUIS','MELAZCO MARUIN','65402343','912215788','Melazco12@hotmail.com','I','2 DE MAYO','23/11/1996');
INSERT INTO CLIENTE (NOMCLI,APECLI,DNICLI,TELCLI,EMACLI,ESTCLI,DOMCLI,FECNAC) VALUES ('FERNANDO','REINA MIMADI','78728723','996546788','Fernando.Mimadi@hotmail.com','I','2 DE MAYO','13/12/1996');
INSERT INTO CLIENTE (NOMCLI,APECLI,DNICLI,TELCLI,EMACLI,ESTCLI,DOMCLI,FECNAC) VALUES ('ESTEBAN','PIXILIONGO MIZERO','45232302','995615788','Pixiliongo@hotmail.com','I','2 DE MAYO','14/04/1996');
INSERT INTO CLIENTE (NOMCLI,APECLI,DNICLI,TELCLI,EMACLI,ESTCLI,DOMCLI,FECNAC) VALUES ('PEDRO', 'CANCHARI MAXMA','42105213','964561718','Canchari_Maxma@hotmail.com','A','2 DE MAYO','14/05/1998');
INSERT INTO CLIENTE (NOMCLI,APECLI,DNICLI,TELCLI,EMACLI,ESTCLI,DOMCLI,FECNAC) VALUES ('FRANCO','LOREX HUAMAN','4051902','996215745','Lorex.12@hotmail.com','A','2 DE MAYO','03/05/1996');
INSERT INTO CLIENTE (NOMCLI,APECLI,DNICLI,TELCLI,EMACLI,ESTCLI,DOMCLI,FECNAC) VALUES ('MARCO', 'DIAZ MARTINEZ','34309021','976215732','MarcoMartinez@hotmail.com','I','2 DE MAYO','03/05/1996');
INSERT INTO CLIENTE (NOMCLI,APECLI,DNICLI,TELCLI,EMACLI,ESTCLI,DOMCLI,FECNAC) VALUES ('STAR','VALIAS FLORES','67228702','944575785','Flores.123@hotmail.com','A','2 DE MAYO','03/05/1996');
INSERT INTO CLIENTE (NOMCLI,APECLI,DNICLI,TELCLI,EMACLI,ESTCLI,DOMCLI,FECNAC) VALUES ('BLANCA','FLORES ACEVEDO','98326102','996223586','BlancaFlores@hotmail.com','I','2 DE MAYO','03/05/1996');
INSERT INTO CLIENTE (NOMCLI,APECLI,DNICLI,TELCLI,EMACLI,ESTCLI,DOMCLI,FECNAC) VALUES ('ROSA','MAXI MARUA','76422102','996248478','maruaRosa@hotmail.com','A','2 DE MAYO','03/05/1996');
INSERT INTO CLIENTE (NOMCLI,APECLI,DNICLI,TELCLI,EMACLI,ESTCLI,DOMCLI,FECNAC) VALUES ('MANUEL','LOPEZ MAXIMA','34234533','996254788','MaximaManuel@hotmail.com','A','2 DE MAYO','03/05/1996');
INSERT INTO CLIENTE (NOMCLI,APECLI,DNICLI,TELCLI,EMACLI,ESTCLI,DOMCLI,FECNAC) VALUES ('DIEGO','CANCHARI MATAMA','68089027','946815783','Canchari@hotmail.com','A','2 DE MAYO','03/05/1996');
INSERT INTO CLIENTE (NOMCLI,APECLI,DNICLI,TELCLI,EMACLI,ESTCLI,DOMCLI,FECNAC) VALUES ('MARIO','BERROCAL ZENTENO','40845501','996286468','BerrocalMario@hotmail.com','I','2 DE MAYO','03/05/1996');
INSERT INTO CLIENTE (NOMCLI,APECLI,DNICLI,TELCLI,EMACLI,ESTCLI,DOMCLI,FECNAC) VALUES ('LUIS','LOPEZ SANCHEZ','51234902','993155782','LopezSanchez@hotmail.com','I','2 DE MAYO','03/05/1996');
INSERT INTO CLIENTE (NOMCLI,APECLI,DNICLI,TELCLI,EMACLI,ESTCLI,DOMCLI,FECNAC) VALUES ('XIMENA','LOPEZ CANCHARI','40254502','965415718','Ximena@hotmail.com','I','2 DE MAYO','03/05/1996');
INSERT INTO CLIENTE (NOMCLI,APECLI,DNICLI,TELCLI,EMACLI,ESTCLI,DOMCLI,FECNAC) VALUES ('MAXIMO','CANCHARI SIERRA','77343233','985215788','Maximo@hotmail.com','I','2 DE MAYO','03/05/1996');



-- Vista para CLIENTE 
CREATE VIEW vCLIENTE
AS
SELECT
	 C.IDCLI AS IDCLI,
	 INITCAP(C.NOMCLI) AS NOMCLI,
	 INITCAP(C.APECLI) AS APECLI,
	 INITCAP(C.DOMCLI) AS DOMCLI,
	 C.DNICLI AS DNICLI,
	 C.EMACLI AS EMACLI,
	 C.TELCLI AS TELCLI,
	 C.ESTCLI AS ESTCLI,
     C.FECNAC AS FECNAC,
	 ROW_NUMBER() OVER (ORDER BY C.IDCLI DESC) AS ORDEN
FROM 
     CLIENTE C;